# **goroutine**

目前很多老牌语言多线程设计，都没有尽可能的最大化CPU的性能，结果就是多线程多为并发，而golang设计之初就为了尽可能的使用CPU的性能，尽量做到多核CPU并行执行提高执行效率。

当开启很多线程时，将会消耗大量的服务器资源，而golang可以轻轻松松开启上万个协程。

## **golang的主线程和协程**

go的主线程（实际上就是常规认为的程序线程）：

- 主线程是一个物理线程，直接作用在CPU上，是重量级的，线程的执行与切换将会消耗大量CPU资源。
- 可以启动多个协程，协程是轻量级的线程（编译器做的优化）。

go协程（轻量级的线程）：

- 从主线程开启，轻量级，是逻辑态，资源消耗小
- 有独立的栈空间
- 共享程序堆空间
- 调度由用户控制